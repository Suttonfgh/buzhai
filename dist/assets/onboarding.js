import"./modulepreload-polyfill.js";import{g as d,s as m}from"./storage.js";const r=Array.from(document.querySelectorAll(".step")),n=document.querySelector("#back"),c=document.querySelector("#next"),o=document.querySelector("#onboard-whatsapp"),a=document.querySelector("#onboard-telegram"),s=document.querySelector("#onboard-vk"),i=document.querySelector("#onboard-discord");let t=0;function l(e){t=Math.max(0,Math.min(r.length-1,e)),r.forEach((h,b)=>{h.classList.toggle("active",b===t)}),n&&(n.disabled=t===0),c&&(c.textContent=t===r.length-1?"Finish":"Next")}async function u(){const e=await d();await m({enableWhatsApp:(o==null?void 0:o.checked)??e.enableWhatsApp,enableTelegram:(a==null?void 0:a.checked)??e.enableTelegram,enableVK:(s==null?void 0:s.checked)??e.enableVK,enableDiscord:(i==null?void 0:i.checked)??e.enableDiscord,onboardingCompleted:!0}),window.close()}n==null||n.addEventListener("click",()=>l(t-1));c==null||c.addEventListener("click",async()=>{if(t===r.length-1){await u();return}l(t+1)});(async()=>{const e=await d();o&&(o.checked=e.enableWhatsApp),a&&(a.checked=e.enableTelegram),s&&(s.checked=e.enableVK),i&&(i.checked=e.enableDiscord)})();l(0);
